{"pageProps":{"article":{"slug":"2022-08-21-1-grafana-cloud-to-line-notify","matter":{"title":"Grafana CloudからのアラートをLINEで受けとる"},"date":"2022-08-21","content":"<p>Raspberry Piから温湿度計データをGrafana Cloudに送っているのだが、ある一定の室温を超えた段階でアラートを受け取りたかったので、LINEへ通知するように設定してみたメモ。</p>\n<h2 id=\"line-notifyからアクセストークンを発行する\">LINE Notifyからアクセストークンを発行する</h2>\n<ol>\n<li>\n<p>LINE Notifyの公式サイト: <a href=\"https://notify-bot.line.me/my/\">https://notify-bot.line.me/my/</a> へログインする。</p>\n</li>\n<li>\n<p>「トークンを発行する」ボタンを押下する。</p>\n</li>\n</ol>\n<p><img src=\"https://imgur.com/cVfDzMu.png\" alt=\"\"></p>\n<ol start=\"3\">\n<li>「トークン名」を適当に入力し、通知を送信するルームを選択。「発行する」ボタンを押下する。</li>\n</ol>\n<p><img src=\"https://imgur.com/LovP3B8.png\" alt=\"\"></p>\n<ol start=\"4\">\n<li>発行されたトークンをコピーしておく。</li>\n</ol>\n<p><img src=\"https://imgur.com/JsHC3cN.png\" alt=\"\"></p>\n<h2 id=\"grafana-cloud側にアラート送信の設定を行う\">Grafana Cloud側にアラート送信の設定を行う</h2>\n<ol>\n<li>「Contact points」タブの「New contact point」ボタンを押下する。</li>\n</ol>\n<p><img src=\"https://i.imgur.com/QYYYJCV.png\" alt=\"Imgur\"></p>\n<ol start=\"2\">\n<li>Contact pointの設定を行い、「Save contact point」ボタンを押下する。</li>\n</ol>\n<p>※ 「Test」ボタンで通知送信のテストができるので、Token入力後にテストしておくとよい。</p>\n<ul>\n<li>Name: \"LINE\"など適当な値を設定</li>\n<li>Contact point type: \"LINE\"を選択</li>\n<li>Token: LINE Notifyから取得したトークンを設定</li>\n</ul>\n<p><img src=\"https://i.imgur.com/dznRxze.png\" alt=\"Imgur\"></p>\n<ol start=\"3\">\n<li>Notification policiesタブ等から、通知の送信先を2で設定したContact pointに変更する。</li>\n</ol>"}},"__N_SSG":true}