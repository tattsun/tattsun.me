<!DOCTYPE html><html lang="ja"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="description" content="技術情報とか日々の日記"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:creator" content="@tattsundev"/><meta property="og:description" content="技術情報とか日々の日記"/><meta property="og:locale" content="ja_JP"/><meta property="og:site_name" content="tattsun.me"/><title>Grafana CloudからのアラートをLINEで受けとる</title><meta name="robots" content="index,follow"/><meta property="og:title" content="Grafana CloudからのアラートをLINEで受けとる"/><meta property="og:url" content="https://tattsun.me/articles/2022-08-21-1-grafana-cloud-to-line-notify"/><meta property="og:type" content="website"/><meta name="next-head-count" content="13"/><link rel="preload" href="/_next/static/css/8262982369c17f00.css" as="style"/><link rel="stylesheet" href="/_next/static/css/8262982369c17f00.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-7ee66019f7f6d30f.js" defer=""></script><script src="/_next/static/chunks/framework-9b5d6ec4444c80fa.js" defer=""></script><script src="/_next/static/chunks/main-3123a443c688934f.js" defer=""></script><script src="/_next/static/chunks/pages/_app-d5046a2dfcd592db.js" defer=""></script><script src="/_next/static/chunks/pages/articles/%5Bslug%5D-49bf4a234109a9fb.js" defer=""></script><script src="/_next/static/l78pQ9Py54UL2zfIqBwyN/_buildManifest.js" defer=""></script><script src="/_next/static/l78pQ9Py54UL2zfIqBwyN/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="flex flex-col min-h-screen"><header class="sticky top-0 border-b z-10 bg-white"><div class="max-w-4xl mx-auto flex justify-between items-center h-12 text-xl px-4"><a href="/">tattsun.me</a></div></header><main class="flex-1 max-w-4xl w-full mx-auto px-4 mt-5"><div class="prose prose-lg max-w-none"><h1>Grafana CloudからのアラートをLINEで受けとる</h1><div>2022-08-21</div><div><p>Raspberry Piから温湿度計データをGrafana Cloudに送っているのだが、ある一定の室温を超えた段階でアラートを受け取りたかったので、LINEへ通知するように設定してみたメモ。</p>
<h2 id="line-notifyからアクセストークンを発行する">LINE Notifyからアクセストークンを発行する</h2>
<ol>
<li>
<p>LINE Notifyの公式サイト: <a href="https://notify-bot.line.me/my/">https://notify-bot.line.me/my/</a> へログインする。</p>
</li>
<li>
<p>「トークンを発行する」ボタンを押下する。</p>
</li>
</ol>
<p><img src="https://imgur.com/cVfDzMu.png" alt=""></p>
<ol start="3">
<li>「トークン名」を適当に入力し、通知を送信するルームを選択。「発行する」ボタンを押下する。</li>
</ol>
<p><img src="https://imgur.com/LovP3B8.png" alt=""></p>
<ol start="4">
<li>発行されたトークンをコピーしておく。</li>
</ol>
<p><img src="https://imgur.com/JsHC3cN.png" alt=""></p>
<h2 id="grafana-cloud側にアラート送信の設定を行う">Grafana Cloud側にアラート送信の設定を行う</h2>
<ol>
<li>「Contact points」タブの「New contact point」ボタンを押下する。</li>
</ol>
<p><img src="https://i.imgur.com/QYYYJCV.png" alt="Imgur"></p>
<ol start="2">
<li>Contact pointの設定を行い、「Save contact point」ボタンを押下する。</li>
</ol>
<p>※ 「Test」ボタンで通知送信のテストができるので、Token入力後にテストしておくとよい。</p>
<ul>
<li>Name: "LINE"など適当な値を設定</li>
<li>Contact point type: "LINE"を選択</li>
<li>Token: LINE Notifyから取得したトークンを設定</li>
</ul>
<p><img src="https://i.imgur.com/dznRxze.png" alt="Imgur"></p>
<ol start="3">
<li>Notification policiesタブ等から、通知の送信先を2で設定したContact pointに変更する。</li>
</ol></div></div></main><footer class="bg-gray-100"><div class="max-w-4xl w-full mx-auto h-24 flex items-center-justify-center pt-4 px-4"><div>2022 tatsun.me</div></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"article":{"slug":"2022-08-21-1-grafana-cloud-to-line-notify","matter":{"title":"Grafana CloudからのアラートをLINEで受けとる"},"date":"2022-08-21","content":"\u003cp\u003eRaspberry Piから温湿度計データをGrafana Cloudに送っているのだが、ある一定の室温を超えた段階でアラートを受け取りたかったので、LINEへ通知するように設定してみたメモ。\u003c/p\u003e\n\u003ch2 id=\"line-notifyからアクセストークンを発行する\"\u003eLINE Notifyからアクセストークンを発行する\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003eLINE Notifyの公式サイト: \u003ca href=\"https://notify-bot.line.me/my/\"\u003ehttps://notify-bot.line.me/my/\u003c/a\u003e へログインする。\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e「トークンを発行する」ボタンを押下する。\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003cimg src=\"https://imgur.com/cVfDzMu.png\" alt=\"\"\u003e\u003c/p\u003e\n\u003col start=\"3\"\u003e\n\u003cli\u003e「トークン名」を適当に入力し、通知を送信するルームを選択。「発行する」ボタンを押下する。\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003cimg src=\"https://imgur.com/LovP3B8.png\" alt=\"\"\u003e\u003c/p\u003e\n\u003col start=\"4\"\u003e\n\u003cli\u003e発行されたトークンをコピーしておく。\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003cimg src=\"https://imgur.com/JsHC3cN.png\" alt=\"\"\u003e\u003c/p\u003e\n\u003ch2 id=\"grafana-cloud側にアラート送信の設定を行う\"\u003eGrafana Cloud側にアラート送信の設定を行う\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e「Contact points」タブの「New contact point」ボタンを押下する。\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003cimg src=\"https://i.imgur.com/QYYYJCV.png\" alt=\"Imgur\"\u003e\u003c/p\u003e\n\u003col start=\"2\"\u003e\n\u003cli\u003eContact pointの設定を行い、「Save contact point」ボタンを押下する。\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e※ 「Test」ボタンで通知送信のテストができるので、Token入力後にテストしておくとよい。\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eName: \"LINE\"など適当な値を設定\u003c/li\u003e\n\u003cli\u003eContact point type: \"LINE\"を選択\u003c/li\u003e\n\u003cli\u003eToken: LINE Notifyから取得したトークンを設定\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cimg src=\"https://i.imgur.com/dznRxze.png\" alt=\"Imgur\"\u003e\u003c/p\u003e\n\u003col start=\"3\"\u003e\n\u003cli\u003eNotification policiesタブ等から、通知の送信先を2で設定したContact pointに変更する。\u003c/li\u003e\n\u003c/ol\u003e"}},"__N_SSG":true},"page":"/articles/[slug]","query":{"slug":"2022-08-21-1-grafana-cloud-to-line-notify"},"buildId":"l78pQ9Py54UL2zfIqBwyN","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>